<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="aZ679hf2Rw"><title> 我是思聪</title><meta name="description" content="A Blog Powered By Hexo"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/prontera.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.april1985.com/atom.xml" title="我是思聪"><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-129409069-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129409069-1');
</script>


<script>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
  </script></head><body><header class="feature-header"><nav class="component-nav"><ul><div class="logo-container"><a href="/"><h2 class="title">我是思聪</h2></a></div><a href="/" target="_self" class="li component-nav-item"><p>现在</p></a><a href="/archives" target="_self" class="li component-nav-item"><p>曾经</p></a><ul class="shortcut-icons"><a href="https://github.com/derekhe" target="_blank"><img src="/images/github.svg" class="icon"></a><a href="/atom.xml" target="_blank"><img src="/images/rss.svg" class="icon"></a></ul></ul></nav></header><main class="container"><div id="body-container"><div id="post-list" class="left"><div class="home post-list"><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2015-06-02-3d-printing-in-thoughtworks-chengdu-office/" class="post-title-link">3D printing in ThoughtWorks ChengDu office</a></h2><div class="post-info">Jun 2, 2015</div><div class="post-content"><p>Industrial 4.0 is coming, what we will do? We brought a 3D printer 2 months ago and some of the guys here are very interested in how it works and how we can utilise it. To give the answer to them, I had one session these days that introduced the basic steps to use the machine.</p>
<a id="more"></a>

<p>###What can we print?</p>
<p>The first question they ask: can we build everything? The answer is definitely no, but we can build a lot. 3D printer consumes plastic and builds things layer by layer, so it is constrained by the material. And non-industrial 3D printer’s precision is not so good, so we can’t print too detailed model. Although it is a toy like thing, let’s see what we printed. </p>
<p>The Big Hero and the Iron Man’s helmet are quite famous. ThoughtWorks label is printed for fun, and the gear toy is much more complex. (Watch the video: <a href="http://www.thingiverse.com/thing:402412" target="_blank" rel="noopener">http://www.thingiverse.com/thing:402412</a>). Depends on the complexity, we will spend several minutes to several hours to print. </p>
<p>Thingiverse(<a href="http://www.thingiverse.com/" target="_blank" rel="noopener">http://www.thingiverse.com/</a>) has a lot of creative things for us to print. I recommend to download them and try to print for beginners. They really found a lot of interesting things to try.</p>
<p><img src="/images/2015/06/pic1.jpg" alt="Pic1"></p>
<p>###How could it help for our life?</p>
<p>I had one kid had he loves the train the most. I printed him train crossing for the IKEA wood train for more fun, and also a train engine for him. He was very excited about this gift. To my surprise, 2.5-years-old kid now knew how the 3D printer works.  Inline image 2</p>
<p><img src="/images/2015/06/pic2.jpg" alt="Pic2"></p>
<p>Another example is to create things. One day my wife told me that our case lock is broken, I used 123D design tool to draw a model and then printed it. It fit good and now the case was fixed.</p>
<p>In the picture below, you can see the battery holder and iPad holder. They are quite useful. I would like to great thanks to the 3D printer to make life easier and happy.</p>
<p><img src="/images/2015/06/pic3.jpg" alt="Pic3"></p>
<p>###Next Step</p>
<p>Now we know how to use the machine, but we are still beginner at the design. More session around design work will happen in office, and our UX guys can think of creative things. Next time, you may see our business card is 3D printed.</p>
<p>I’m now also trying to build a cheap 3D scanner, so that we can scan the world and then print it.</p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2015-04-21-speedup-cordova-app-development/" class="post-title-link">Speed up Cordova app development using http server</a></h2><div class="post-info">Apr 21, 2015</div><div class="post-content"><p>Cordova helps us make apps easily. The ability to run the apps inside browser greatly speeds up the development cycle. But I feel that it is hard to debug and rerun in a real device, especially I need to debug some plugin which needs real devices support. Normally I need to compile and redeploy the app. It takes at least 1 minutes to get all things ready even running inside Samsung<br>S5.</p>
<a id="more"></a>

<p>The cordova apps are running inside a WebKit, Chrome helps to connect the apps and you can inspect element or use any javascript debugging tool. Imaging the app is loaded from a self-hosted server, in the chrome developer tool, I can refresh the browser to load modified content. This is cool because you don’t need to compile and restart the app, it saves a lot of when need to go through a lot of steps to reach that page. Question: How to do it?</p>
<p>The basic idea is to serve /www folder in http server. You could use nodejs “http-server” as a quick start. But compare to the /platforms/android/assets/www folder, there are some files missing including cordova.js, cordova_plugins.js and plugins folder. We need to copy these files into /www folder so apps can get the cordova initialized.</p>
<p>We need to modify the entry page (index.html) for apps to load from the server, otherwise it will load local content inside apps. It is a simple redirect. Then we need to create a new app.html which is same as original index.html.</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"refresh"</span> <span class="attr">content</span>=<span class="string">"0; url=http://SERVER:IP/app.html"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>When app is loaded, the index.html will redirect to the app.html which is hosted in server. If you want to modify the app, just modify the apps and then refresh the page.</p>
<p>Demo:</p>
<p>Clone the app: <a href="https://github.com/derekhe/speed-up-cordova/" target="_blank" rel="noopener">https://github.com/derekhe/speed-up-cordova/</a><br>Serve the server</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g <span class="keyword">http</span>-<span class="keyword">server</span></span><br><span class="line">cd www</span><br><span class="line"><span class="keyword">http</span>-<span class="keyword">server</span></span><br></pre></td></tr></table></figure>

<p>Run the app</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cordova <span class="built_in">emulate</span> android</span><br></pre></td></tr></table></figure></div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2015-03-25-3d-printing/" class="post-title-link">20天3D打印总结</a></h2><div class="post-info">Mar 25, 2015</div><div class="post-content"><p>mbot cube 3D打印机拿到手也有20多天了，有空就玩玩，还是做了一些好玩实用的东西出来，总结一些经验来分享。总体来讲3D打印技术还不是太难掌握，对于打印素材来源及模型选择有一些讲究，要特别注意一些模型打印起来非常困难，甚至无法打印。</p>
<h2 id="模型来源"><a href="#模型来源" class="headerlink" title="模型来源"></a>模型来源</h2><p>我自己的3D模型主要来源于thingiverse网站，丰富的模型分类及社区的力量提供了非常多的资源。很可惜的是中国访问奇慢，主要原因是网站使用了亚马逊S3和cloudflare云，这两个基本被中国屏蔽，要不就是慢的死人。所以一个给力的代理是唯一的解决方案，否则你会失去很多的乐趣。代理可以参考我之前的shadowsocks在digitalocean上用的例子。</p>
<p>国内有一个叫“天工社”的论坛，上面有很多的模型可供选择，我看大部分还是来自于thingiverse网站的，有些人靠这些来赚积分。</p>
<p>在thingiverse网站上，我做自己做了一些东西，请直接打开网站看</p>
<h3 id="一些成功的例子"><a href="#一些成功的例子" class="headerlink" title="一些成功的例子"></a>一些成功的例子</h3><ul>
<li><p>手机、平板支架，非常好用的一个支架，可以方便的收起来<br>  <a href="http://www.thingiverse.com/make:127566" target="_blank" rel="noopener">http://www.thingiverse.com/make:127566</a></p>
</li>
<li><p>电池盒子，放很多电池，不错。可以自己定义，但是注意电池的大小，有些大容量的充电电池比较大，会塞不进去<br>  <a href="http://www.thingiverse.com/make:127569" target="_blank" rel="noopener">http://www.thingiverse.com/make:127569</a></p>
</li>
<li><p>小火车，儿子非常喜欢，做了两三个<br>  <a href="http://www.thingiverse.com/make:127576" target="_blank" rel="noopener">http://www.thingiverse.com/make:127576</a></p>
</li>
<li><p>挤药膏的东东<br>  <a href="http://www.thingiverse.com/thing:49263" target="_blank" rel="noopener">http://www.thingiverse.com/thing:49263</a></p>
</li>
<li><p>自己做修复东西，箱子的一个锁扣<br>  <a href="http://www.thingiverse.com/thing:740143" target="_blank" rel="noopener">http://www.thingiverse.com/thing:740143</a></p>
</li>
</ul>
<h3 id="失败的例子"><a href="#失败的例子" class="headerlink" title="失败的例子"></a>失败的例子</h3><ul>
<li><p>鸟巢，当然我是用来做实验用的，打印了40%的大小的。窗户的细节有一些有，有一些没了。<br>  <a href="http://www.thingiverse.com/thing:117080" target="_blank" rel="noopener">http://www.thingiverse.com/thing:117080</a><br>  <img src="/images/2015/03/20150322_234312.jpg" alt="也不算太差"></p>
</li>
<li><p>坦克，直接打报废，可以看我的make<br>  <a href="http://www.thingiverse.com/thing:256626" target="_blank" rel="noopener">http://www.thingiverse.com/thing:256626</a><br>  <img src="/images/2015/03/20150325_192308.jpg" alt="彻底瞎火"></p>
</li>
</ul>
<h2 id="模型的选择"><a href="#模型的选择" class="headerlink" title="模型的选择"></a>模型的选择</h2><p>尽量不选择太复杂太精细的模型，有些细小的部件，打印机会吐出来一点材料，根本无法顺利的打印出来。有些结构一次性打印的话需要很多的支撑材料，这些支撑会产生很大的麻烦，去除材料的时候会显得很郁闷。当然如果你的打印机是双头的，并且有水溶的材料，那就另当别论了。</p>
<p>所以比较好的模型都是一些稍微简单，甚至是组装的模型。组装的模型比较好打印每个部件，但是有些接插件会遇到无法插入的问题。内孔一般会缩小，外孔一般会变大，这和孔的大小有关。一般得后处理一下。由于我的材料一直是PLA的，所以试过用钻枪扩孔，但是效果不好，钻头会卡在洞里面。另外要注意有些模型如果提供了细杆之内的，强度一般都不会够，对于PLA很容易就折断了。</p>
<p><img src="/images/2015/03/20150308_160303.jpg" alt="完全插不进去的外壳，其中一个装齿轮的细杆已经折断"></p>
<p>打印模型的时候的方向也比较重要，要看你的模型在什么方向上需要什么的精度。Z方向的精度似乎比较差，XY的还比较靠谱。对于一些比较尖的部件，如果到最后只有这个尖的东东，则打印头会持续的在附近一栋，造成温度很高，下层的尖会软化，导致整个模型报废。所以可以在旁边比较远的地方放一个无关紧要的物件，这样打印头会移动开，等再回来的时候就已经冷却了。</p>
<h2 id="翘边问题"><a href="#翘边问题" class="headerlink" title="翘边问题"></a>翘边问题</h2><p>刚拿到打印的时候，基本上都会翘边，还是PLA材料啊。后来打电话给售后问有没有比较好的办法，他们推荐用3M胶带。但是3M胶带实在是太难贴了，而且贴完了打印后会影响底层的平整度。如果贴的位置不是很恰当，还是会造成一些翘边，甚至中间凹陷的情况。</p>
<p><img src="/images/2015/03/20150308_222403.jpg" alt="3M胶没有hold住，很难知道哪些地方需要贴"><br><img src="/images/2015/03/20150311_225153.jpg" alt="3M胶，造成底部凹凸不平"></p>
<p>后来买了蓝色的3M美纹纸胶带，完美解决问题。非常好贴，而且效果很好。<br><img src="/images/2015/03/20150313_233205.jpg" alt="美纹胶，完美解决"><br><img src="/images/2015/03/20150313_234018.jpg" alt="儿子很喜欢"></p>
<h2 id="打印软件"><a href="#打印软件" class="headerlink" title="打印软件"></a>打印软件</h2><h3 id="ReplicateG"><a href="#ReplicateG" class="headerlink" title="ReplicateG"></a>ReplicateG</h3><p>这个开源软件很古老了，已经停止更新。试过一两个模型速度都非常的慢，而且界面不好用。还是最好别用这个了。</p>
<h3 id="MPrint"><a href="#MPrint" class="headerlink" title="MPrint"></a>MPrint</h3><p>MBot3D自己出的软件，易用性还算过得去，生成速度也挺快的，能够预览生成的路径，看到打印时间和材料克数。win平台和mac都有。作为初学及简单的配置还是很方便的。</p>
<p>不方便的地方在于没有像Slic3r或者Cura提供的打印一个底层边界的功能（不是底垫哈），这样刚开始打印的时候打印后没有材料挤出，要等上几秒钟才连续出料，造成一部分底层打印失败。办法是自己做个物体放在旁边，或者打印底垫。<br><img src="/images/2015/03/Screen%20Shot%202015-04-22%20at%2012.24.17%20PM.png" alt="Screen Shot 2015 04 22 At 12.24.17 PM"></p>
<h3 id="Slic3r和Cura"><a href="#Slic3r和Cura" class="headerlink" title="Slic3r和Cura"></a>Slic3r和Cura</h3><p>开源利器，两个软件不相上下，我还是比较喜欢Cura，界面比较好用一些。</p>
<p>刚开始用的时候，需要设置好边界，mbot cube我最大设置为200左右，太大的话会造成XY移动到最外面撞到。打印机是没有限位开关的，所以会导致电机堵转或者跳齿，很伤机械。还有一个Machine Settings选项：Machine Center 0,0，如果没有设置，则会按照左上角为0,0，会撞车。</p>
<p><img src="/images/2015/03/Screen%20Shot%202015-04-22%20at%2012.31.24%20PM.png" alt="0,0"><br>具体设置可以参考：<a href="https://github.com/derekhe-3dprinting/print-settings" target="_blank" rel="noopener">https://github.com/derekhe-3dprinting/print-settings</a></p>
<h2 id="材料"><a href="#材料" class="headerlink" title="材料"></a>材料</h2><p>当时买机器的时候给了一卷透明的PLA，但似乎材料有些问题，打印效果不好，比较粗糙。后来买了个橘红色的PLA，就好了。</p>
<p>PLA还是比较脆的，有一些玻璃的质感。橘红色的打印出来还是比较好看，但是透明的就完全瞎火。<br><img src="/images/2015/03/20150315_115325.jpg" alt="比较漂亮"><br><img src="/images/2015/03/20150319_210622.jpg" alt="修锁扣，强度还是不错"><br><img src="/images/2015/03/20150322_234259.jpg" alt="透明的很难看"></p>
<h2 id="上色"><a href="#上色" class="headerlink" title="上色"></a>上色</h2><p>最安全的方式上色还是用丙烯材料好了，需要涂得比较厚一些后期才不会开裂和掉色。可以借助吹风机速干。<br><img src="/images/2015/03/20150308_165144.jpg" alt="涂的太薄，干了就掉"></p>
<h2 id="吐槽打印机"><a href="#吐槽打印机" class="headerlink" title="吐槽打印机"></a>吐槽打印机</h2><p>这个打印机价格还是不便宜，要是双头的价格都5200多了。打印的噪音还是比较大，关了门还能听得到明显的噪音。可能是出厂的时候质量有一些问题，Y轴似乎是直线轴承出了问题，方向移动的时候嘎嘎嘎的响。联系的厂商给免费维修，只不过要寄回去比较麻烦。</p>
<p>为了减少噪音，是否需要在外面加一层盖子，这个我还在考虑之中，看轴承修好了以后会不会好一些。</p>
<p>对比Flashforge的creator pro，这个机子的底板能够能够取下板子比较好，毕竟在机器里面拆模型不是非常的方便，贴胶也不好贴。</p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2015-03-11-ali-api-analysis/" class="post-title-link">淘宝旅行API分析</a></h2><div class="post-info">Mar 11, 2015</div><div class="post-content"><p>这一篇博客中我分析一下如何分析得到淘宝旅行的API，如何得到实时的机票信息。</p>
<p>我们先看看阿里旅行的<a href="http://trip.taobao.com/jipiao/" target="_blank" rel="noopener">机票页面</a>。打开Chrome Developer Tools发现要得到其中的信息感觉颇为复杂，很难去下手，一般我不会从主站下手。主站的各种防御做得比较好，往往页面结构复杂。其实如果我们换个思路，直接访问手机的站点，会简单很多。这是因为为手机做的站点其性能比较重要，往往做得比较简单，而且容易暴露一些API接口。</p>
<p>点击Chrome Developer</p>
<p><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.30.17.jpg" alt="Screen Shot 2015 03 11 At 16.30.17"></p>
<p>试着查一下深圳到成都的机票，看看会返回些什么。忽略掉图片等，发现h5apiUpdate.do这个call有意思</p>
<p><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.33.53.jpg" alt="我注意到一个jsonp的call"></p>
<p>将这个URL放到浏览器上面试一下，果断返回了所有的信息。<br><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.35.13.jpg" alt="Screen Shot 2015 03 11 At 16.35.13"></p>
<p>剩下的事情就简单很多了，一个GET请求就可以得到所有的信息。让我们来分析一下URL里面具体是怎么请求的。</p>
<p>URL请求，不要直接点击，点击后是请求失败的。</p>
<p><a href="http://api.m.taobao.com/rest/h5ApiUpdate.do?callback=mtopjsonp1&amp;type=originaljsonp&amp;api=mtop.trip.flight.flightSuperSearch&amp;v=1.0&amp;data=%7B%22searchType%22%3A%221%22%2C%22depCityCode%22%3A%22SZX%22%2C%22arrCityCode%22%3A%22CTU%22%2C%22leaveDate%22%3A%222015-03-12%22%2C%22backDate%22%3A%222015-03-12%22%2C%22itineraryFilter%22%3A%220%22%2C%22sellerIds%22%3A%22%22%2C%22leaveFlightNo%22%3A%22%22%2C%22leaveCabinClass%22%3A%220%22%2C%22backCabinClass%22%3A%220%22%2C%22utdid%22%3A%22%22%2C%22depDate%22%3A%222015-03-12%22%7D&amp;useNative=true&amp;ttid=201300@travel_h5_3.1.0&amp;appKey=12574478&amp;t=1426062775998&amp;sign=3feb52aed67967a2c47aa7a2b9f2a417" target="_blank" rel="noopener">http://api.m.taobao.com/rest/h5ApiUpdate.do?callback=mtopjsonp1&amp;type=originaljsonp&amp;api=mtop.trip.flight.flightSuperSearch&amp;v=1.0&amp;data=%7B%22searchType%22%3A%221%22%2C%22depCityCode%22%3A%22SZX%22%2C%22arrCityCode%22%3A%22CTU%22%2C%22leaveDate%22%3A%222015-03-12%22%2C%22backDate%22%3A%222015-03-12%22%2C%22itineraryFilter%22%3A%220%22%2C%22sellerIds%22%3A%22%22%2C%22leaveFlightNo%22%3A%22%22%2C%22leaveCabinClass%22%3A%220%22%2C%22backCabinClass%22%3A%220%22%2C%22utdid%22%3A%22%22%2C%22depDate%22%3A%222015-03-12%22%7D&amp;useNative=true&amp;ttid=201300@travel_h5_3.1.0&amp;appKey=12574478&amp;t=1426062775998&amp;sign=3feb52aed67967a2c47aa7a2b9f2a417</a></p>
<p>首先我们精简一下这个请求，更少的参数更能让我们专注，我最终去掉了callback和type，请求成功。但注意这个请求和之前的请求有一些区别，这个请求不是jsonp的，如果不是从浏览器直接访问，没有跨域请求的时候是可以不用jsonp的。</p>
<p><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.40.01.jpg" alt="Screen Shot 2015 03 11 At 16.40.01"></p>
<p>剩下事情就有点复杂了。</p>
<ul>
<li><p>api=mtop.trip.flight.flightSuperSearch&amp;v=1.0&amp;<br>这一串是版本号及API调用的接口，一般不用改变</p>
</li>
<li><p>data=%7B%22searchType%22%3A%221%22%2C%22depCityCode%22%3A%22SZX%22%2C%22arrCityCode%22%3A%22CTU%22%2C%22leaveDate%22%3A%222015-03-12%22%2C%22backDate%22%3A%222015-03-12%22%2C%22itineraryFilter%22%3A%220%22%2C%22sellerIds%22%3A%22%22%2C%22leaveFlightNo%22%3A%22%22%2C%22leaveCabinClass%22%3A%220%22%2C%22backCabinClass%22%3A%220%22%2C%22utdid%22%3A%22%22%2C%22depDate%22%3A%222015-03-12%22%7D<br>包含了一些数据，但已经被quote过，基本上是一个json类一样，里面包含一些请求的数据。decode之后长这样：<br><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.43.51.jpg" alt="Screen Shot 2015 03 11 At 16.43.51"></p>
</li>
<li><p>useNative=true&amp;ttid=201300@travel_h5_3.1.0&amp;appKey=12574478<br>这些固定字符串，暂时不管了</p>
</li>
<li><p>t=1426062775998&amp;sign=3feb52aed67967a2c47aa7a2b9f2a417<br>这两个参数，在不断请求的过程中是变化的，这个值一旦不对应，则API请求是失败的。这对我们的造成了很大的困扰。如果不清楚这里的算法，你不能算出sign，API请求完全无力。遇到这种情况，只有从javascript下手了。</p>
</li>
</ul>
<p>是什么地方调用了这个API呢？我采用搜索url的方式。找h5ApiUpdate这个关键字，看有没有什么线索。最后在这个文件中发现了这个关键字。</p>
<p><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.48.59.jpg" alt="Screen Shot 2015 03 11 At 16.48.59"></p>
<p>糟糕的是这个代码已经被压缩过，你可能知道一些<a href="http://tool.lu/js/" target="_blank" rel="noopener">站点</a>，能够将javascript反混淆吧。但你不能直接利用这个代码做事情。我之前考虑是否做个proxy的站点，类似fiddler这种工具将这个压缩过的js给劫持了，然后返回我解压过的。想想整个过程都很复杂。</p>
<p>然后我去找了一下chrome的插件和stackoverflow。庆幸的是，chrome已经内置了一个非常牛逼的工具，且看这里。这一个简简单单的{}符号简直帮了大忙。</p>
<p><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.52.13.jpg" alt="Screen Shot 2015 03 11 At 16.52.13"></p>
<p>你看，pretty print后的代码，简直就是开卷考试了一样。<br><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.52.59.jpg" alt="Screen Shot 2015 03 11 At 16.52.59"></p>
<p>更为强大的是，用这个代码我居然可以打断点！<br>好吧，那我看看sign是怎么得到的。简单的搜索一下就可以找到了：<br><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.55.17.jpg" alt="Screen Shot 2015 03 11 At 16.55.17"></p>
<p>看到了没有，所有的秘密都在这里。<br><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.57.20.jpg" alt="Screen Shot 2015 03 11 At 16.57.20"></p>
<p>这些值和cookie相关，做一次请求，打几个断点，所有的秘密都清楚了。<br><img src="/images/2015/03/Screen%20Shot%202015-03-11%20at%2016.59.22.jpg" alt="Screen Shot 2015 03 11 At 16.59.22"></p>
<p>好吧，我们来写一个简单的程序来模拟吧，请参考：<a href="https://github.com/derekhe/alitripAPI" target="_blank" rel="noopener">https://github.com/derekhe/alitripAPI</a></p>
<p>nodejs可以非常好的完成任务，而且阿里不会阻止你采集（这点很大方啊）。我后来想把它写到手机上，用cordova做个app的，但可惜cordova不支持cookie这事情，让整个事情搁浅了。后续试试原生的http request，应该可以解决问题。</p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2015-03-07-3d-printing/" class="post-title-link">3D打印及技巧</a></h2><div class="post-info">Feb 24, 2015</div><div class="post-content"><p>春节过完，花了4699买了个mBot的木头3D打印机。为什么要买呢？这还是要起源于公司内部有个同事在年前发起的一个众筹，每人可以捐一些培训经费采购一台3D打印机，很多人响应，凑了1万多块钱，昨天问他后来买了个<a href="http://item.taobao.com/item.htm?spm=a1z09.2.9.140.Vdkbms&id=37905659431&_u=58lap0q91ae" target="_blank" rel="noopener">6600多块的</a>，那么这事情也就成了。</p>
<p><img src="/images/2015/03/microMsg.1425553218011.jpg" alt="硕大的箱子"><br><img src="/images/2015/03/microMsg.1425553490849.jpg" alt="开箱，其实不怎么重里面"><br><img src="/images/2015/03/microMsg.1425556501654.jpg" alt="一堆东西，工具还很好用"></p>
<p>为啥公司有自己还要自己买一个呢？我不怎么喜欢共用一个东西，独自拥有了怎么折腾都好，也不会受谁的限制。其实买3D打印机这个想法也不是没有，之前主要是觉得价格太贵然后加上不怎么成熟。记得前一两年最常见的创客活动就是秀3D打印机了，感觉有一个是多么的神奇。在等上个一段时间以后，现在看来各项指标都好了很多，生产厂家也逐渐的丰富了起来，是时候下手了。</p>
<p>开机</p>
<p><img src="/images/2015/03/microMsg.1425558957060.jpg" alt="只有原点开关，没有限位开关"><br><img src="/images/2015/03/microMsg.1425558992165.jpg" alt="只有原点开关，没有限位开关"><br><img src="/images/2015/03/microMsg.1425559019489.jpg" alt="只有原点开关，没有限位开关"><br><img src="/images/2015/03/microMsg.1425559032383.jpg" alt="只有原点开关，没有限位开关"></p>
<p>拿到打印机后，迫不及待的拆好，装上软件，很顺利的打了一个简单的测试图形。我本来叫卖家给我白色的料的，结果寄过来个透明的，打印出来的东西有点奇葩。</p>
<p><img src="/images/2015/03/microMsg.1425565144406.jpg" alt="卡里面的测试图形"></p>
<p><img src="/images/2015/03/20150305_230800.jpg" alt="撑牙刷的，打印中。。"><br><img src="/images/2015/03/microMsg.1425569307146.jpg" alt="撑牙刷的，人家打印出来是那样，我的是这样。。。汗死"></p>
<p>刚开始选择的层高0.1，实在是太小了，打印了好久。<br><img src="/images/2015/03/20150305_231857.jpg" alt="打印时间"></p>
<p>感觉不错。后来想要不直接来个猛的？下载了个埃菲尔铁塔，结果ReplicatorG花了半个多小时，最后无法生成路径。也罢，后来选了个发动机引擎来打印，结果第一个严重也是常见的问题出现了————翘边。</p>
<p><img src="/images/2015/03/microMsg.1425610624897.jpg" alt="ReplicateG生成很久，还不如用厂家的MPlay"><br><img src="/images/2015/03/20150306_164828.jpg" alt="刚出炉，还没有去掉底部的底座"><br><img src="/images/2015/03/20150306_164850.jpg" alt="翘边啦"><br><img src="/images/2015/03/20150306_170146.jpg" alt="拆下来的支撑"></p>
<p><img src="/images/2015/03/20150306_175754.jpg" alt="大图形很容易翘边"><br><img src="/images/2015/03/20150306_193755.jpg" alt="自己想当然，搞个黑胶布粘上，一点用也没"></p>
<p>出现翘边以后，网上搜索了一下然后打电话给技术支持。技术支持告诉我我最牢固的方式是用丙酮，但家里面有小孩不能用，挥发性大易燃易爆；美纹胶也可以，增加接触面的粗糙度，但效果不一定好；还有一个方式是3M胶，效果也比较好的。</p>
<p>最终我选择了3M胶。京东上睡一觉第二天就到货。第一天就废了15块钱左右，感觉还是比较值。还好用的是PLA材料，生物可降解，其实强度那些也是很棒的，之前我还担心用力捏一下就断呢。</p>
<p><img src="/images/2015/03/20150306_202920.jpg" alt="92克，每克1.5，算下来15块钱左右"></p>
<p>今天早上3M胶到了，贴上去倒是很方便，问题来了，背面的红色的胶非常难取，一般用手是抠不下来的。使了用铲子顶进去压住下面的胶，然后再配合美工刀，完美解决问题。</p>
<p><img src="/images/2015/03/20150307_171804.jpg" alt="很难取"></p>
<p>打印一个电池盒子<br><img src="/images/2015/03/microMsg.1425712978017.jpg" alt="试一下"><br><img src="/images/2015/03/microMsg.1425715047986.jpg" alt="不错"></p>
<p>贴上后试了一个比较长的物体，再没出现翘边了，但又有另外的问题发生。<br><img src="/images/2015/03/20150307_184909.jpg" alt="继续打印"></p>
<p>由于双面胶有一定的厚度，大概1.5张名片的厚度，贴胶的时候贴到了打印部件的位置，造成下面的底座和打印的工件粘合在一起，很难去除。下次一定小心点测量。</p>
<p><img src="/images/2015/03/20150307_185543.jpg" alt="很难去除，将就了"></p>
<p>还有个问题是由于两边的胶稍微高一点，会造成两边高中间低的问题。或许在零件的中间贴合一些胶能够解决。</p>
<p>如果不怕浪费点材料，在刚开始打印底座的时候，会打印一个图出来，当打的差不多的时候，就停下来，然后在边角的位置贴上3M胶，不要贴的太进去就好。</p>
</div></article></div></div></div><div id="sidebar" class="left"><div id="about-panel"><div class="info"><div class="title">贺思聪</div><div class="bio">《爬虫实战：从数据到产品》作者，国内首个机票价格历史及预测小程序“爱飞狗旅行”作者，极客、架构师、大数据玩家。</div></div><img src="/images/avatar.png" class="avatar"></div><div id="friend-links-panel"><div class="panel-title"><p>LINKS</p></div><a href="http://github.com/derekhe" target="_blank" class="link-item"><div class="link-container"><div class="site-name">GitHub</div><div class="site-desc">http://github.com/derekhe</div></div></a><a href="http://www.jianshu.com/u/b1e713e56ea6" target="_blank" class="link-item"><div class="link-container"><div class="site-name">简书</div><div class="site-desc">http://www.jianshu.com/u/b1e713e56ea6</div></div></a><a href="https://www.linkedin.com/in/sicong-he-56a95437/" target="_blank" class="link-item"><div class="link-container"><div class="site-name">LinkedIn</div><div class="site-desc">https://www.linkedin.com/in/sicong-he-56a95437/</div></div></a></div></div></div><div class="clear"></div></main><footer class="footer-container"><div class="paginator"><a href="/page/5/" class="prev">PREV</a><a href="/page/7/" class="next">NEXT</a></div><div class="copyright"><p>© 2008 - 2019 <a href="http://www.april1985.com">贺思聪</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank">hexo-theme-prontera</a>.</p></div></footer><script>var _mtac = {}; (function() {     var mta = document.createElement("script"); mta.src = "http://pingjs.qq.com/h5/stats.js?v2.0.2";    mta.setAttribute("name", "MTAH5");    mta.setAttribute("sid", "500490740");    var s = document.getElementsByTagName("script")[0];    s.parentNode.insertBefore(mta, s);})();</script></body></html>