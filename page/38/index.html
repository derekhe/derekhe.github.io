<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="aZ679hf2Rw"><title> 我是思聪</title><meta name="description" content="A Blog Powered By Hexo"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/prontera.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.april1985.com/atom.xml" title="我是思聪"><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-129409069-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129409069-1');
</script>


<script>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
  </script></head><body><header class="feature-header"><nav class="component-nav"><ul><div class="logo-container"><a href="/"><h2 class="title">我是思聪</h2></a></div><a href="/" target="_self" class="li component-nav-item"><p>现在</p></a><a href="/archives" target="_self" class="li component-nav-item"><p>曾经</p></a><ul class="shortcut-icons"><a href="https://github.com/derekhe" target="_blank"><img src="/images/github.svg" class="icon"></a><a href="/atom.xml" target="_blank"><img src="/images/rss.svg" class="icon"></a></ul></ul></nav></header><main class="container"><div id="body-container"><div id="post-list" class="left"><div class="home post-list"><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2009-09-01-green-energy/" class="post-title-link">Green Energy</a></h2><div class="post-info">Sep 1, 2009</div><div class="post-content"><p><strong><em>[Meten upgrade composition]</em></strong><br>With the rapid development of science and economic, the Earth is now suffering from heavy energy consumption and pollution. Global warming is not just a term but we indeed face the extreme weather more frequently than 20 years ago. The main reason of global warming is the release of heat keeping gases which are well known CO2 and CH4. These gases mostly come from energy making by burning resources like oil which are called “Unrenewable resources”.</p>
<p>According to Figure 1, by the end of 2008, nearly 3/4 of the energy supply in the world comes from oil, coal, and natural gas. These products have become more expensive than two decades ago and the price is still growing year after year. Without other replaceable resources, countries will be ended as a result of fighting for energy. People in the world has realized this problem and started researches on eco-friendly, renewable energy which is normally termed “Green Energy” or “Green Power”. Large hydropower, biomass heating power, solar collector power and wind power are the four largest portions in renewable energy supply.<br><a href="/images/others/image001.png"></a><img src="/images/others/image/thumb/image001.png" alt></p>
<p> <strong>Figure Renewable energy</strong><br>Hydropower station uses water level to produce power. A dam is usually built to stop water in order that the water level can go higher. Hydropower does not contribute significant CO2 and “can be far less expensive than electricity generated from fossil fuels or nuclear energy” (Modern Usage, Hydropower, Wikipedia). And it is easy to save the power by stopping the water when power consumption is not high. Although hydropower contributes half of the whole renewable energy, the environmental impacts of the dam are considered more and more in recent years. The eco-system is changed; fishes disappear; a large number of people have to move to other places; historical heritages will keep underwater forever or will have to move higher; and researchers have found many disasters may have some relations with the big dam.<br><a href="/images/others/image004.png"></a><img src="/images/others/image/thumb/image004.png" alt><br><strong>Figure Three gorges dam</strong><br>Biomass heating power is an old and traditional way to produce power. When fire wood, it produces power. This kind of energy releases green house gases into air. Should it be green energy? Scientists have found that wood burning does not release any more CO2 than let it be rotten. It just releases what trees absorbed. This is so called carbon cycle. And the fire is the solar energy trees stored. Though wood burning is green, the way of transportation of wood does produce more greenhouse gas.</p>
<p><a href="/images/others/image003.png"></a><img src="/images/others/image/thumb/image003.png" alt><br><strong>Figure Wood burning **
Solar power is the most natural, costless, zero CO2 power. All of our energy initially comes from the sun. Two main methods are commonly used: solar cells generate electricity directly and solar heat to boil the water to steam then the steam drives the turbine to produce electricity. The first way can be used widely in housing power supply, car battery charging or even aerospace although it largely depends on the sunshine. The second way is more efficient and scientists have already found the way to store the power. The cost and unmovable are the main drawbacks of solar heat power.<br><a href="/images/others/image005.png"></a><img src="/images/others/image/thumb/image005.png" alt><br>**Figure Giant photovoltaic array</strong><br><a href="/images/others/image002.png"></a><img src="/images/others/image/thumb/image002.png" alt><br><strong>Figure Solar heat power</strong><br>Wind power is growing rapidly with the capacity from 74GW in 2006 to 121GW in 2008 globally. European countries like Denmark, Spain, Portugal, and Germany had a ration of above 5% of energy from wind power. Not only can the wind power farm be built on the land, it also can be on the sea. The sea wind provides more stable and powerful wind than on the land. The main challenge is how to store the power because wind is not stable.</p>
<p> <a href="/images/others/image006.png"></a><img src="/images/others/image/thumb/image006.png" alt><br><strong>Figure Wind power</strong><br>These green sources are mainly used in large scale power stations to produce electricity. But cars cannot eat electricity directly and the process of saving the electricity to battery and releasing it to make car move is not mature; they need a kind of replacement. Scientists are making progress on a new kind of oil which is bio-fuel, so traditional engines can produce power directly from this oil without any modification. In development of this fuel, scientists must balance the total energy outcome and environmental cost.<br><a href="/images/others/image007.png"></a><img src="/images/others/image/thumb/image007.png" alt><br><strong>Figure Sugar cane can be used as a bio-fuel</strong><br>The sources of first generation of bio-fuel are corn, bean and cane which can use mature technology to make bio-fuel. But it will not last long because there’s no enough farms to satisfy the need which is growing by 10% every year. Scientists are also concerning about the whole carbon release from the beginning of the planting to the final product. The second generation bio-fuel is on the way, which mainly uses grasses to produce bio-fuel and could be more productive and environmentally friendly.</p>
<p> In conclusion, though classical oil resources are still occupying the main energy market, new green energy technologies are now taking fast lane. These technologies will finally give the earth a bright, clean future.</p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2009-08-30-metaweblog-synchronization-problems-blog/" class="post-title-link">metaWeblog同步博客遇到的问题</a></h2><div class="post-info">Aug 30, 2009</div><div class="post-content"><p>最近有一个迫切的需求，需要同步几个博客。目前我有的博客是本站，还有hesicong.cnblogs.com和<a href="http://www.csdn.net/hesicong共三个。其后两个由于各种问题长久以来没有得到更新。我的需求就是写一个软件能够将wordpress的文章同步到cnblogs和csdn(成为次博客)。对于主次博客都有的文章修改次博客为主博客内容，对于次博客没有的文章按照时间新建一个。从而实现博客同步。" target="_blank" rel="noopener">www.csdn.net/hesicong共三个。其后两个由于各种问题长久以来没有得到更新。我的需求就是写一个软件能够将wordpress的文章同步到cnblogs和csdn(成为次博客)。对于主次博客都有的文章修改次博客为主博客内容，对于次博客没有的文章按照时间新建一个。从而实现博客同步。</a></p>
<p>技术上使用metaWeblog就可以实现上述目的，选用python的xmlrpclib可以方便的进行xmlrpc操作。做一个控制台的小程序足够了我使用了。</p>
<p>然后开始技术实验，发现：</p>
<ol>
<li>wordpress支持metaWeblog很好，可以实现所有的功能。从wordpress可以通过metaWeblog.getRecentPosts函数得到所有的文章。</li>
<li>cnblogs也支持metaWeblog，也支持的很好。cnblogs也支持我的语法高亮。但遗憾的是：第一：metaWeblog.getRecentPosts函数最多能够返回100个文章。而我的cnblogs目前有230篇文章，很显然，cnblogs限制了文章数量；第二：metaWeblog.newPost函数即便Post结构中有dateCreated，但cnblogs的主界面中依然按照当前时间计算，造成文章时间对不上号，顺序混乱。</li>
<li>csdn就是个垃圾，metaWeblog表面上支持，暗地里出问题。metaWeblog.getRecentPosts,metaWeblog.editPost都无法用，提示User not exist。仅有metaWeblog.newPost可以用，但csdn的blog的语法高亮无法用，页面很难看。</li>
</ol>
<p>所以，想实现我的目的通过metaWeblog看来是没希望了。除非cnblogs调整文章数量限制，csdn希望从垃圾变成战斗机了。</p>
<p>附我写的一个测试代码，不完善，仅作为参考：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> xmlrpclib</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Metablog</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, url, username, password)</span>:</span></span><br><span class="line">        self.username=username</span><br><span class="line">        self.password=password</span><br><span class="line">        self.url=url</span><br><span class="line">        self.server=xmlrpclib.ServerProxy(url)</span><br><span class="line">        self.posts=<span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getAllPosts</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Getting all posts from "</span>+self.url</span><br><span class="line">        self.posts=self.server.metaWeblog.getRecentPosts(<span class="string">''</span>, self.username, self.password, <span class="number">9999999</span>)</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"found "</span>+ str(len(self.posts)) +<span class="string">" posts"</span></span><br><span class="line">        <span class="keyword">return</span> self.posts;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getAllPostTitle</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.posts==<span class="literal">None</span>:</span><br><span class="line">            self.getAllPosts()</span><br><span class="line"></span><br><span class="line">        ret=dict()</span><br><span class="line">        <span class="keyword">for</span> post <span class="keyword">in</span> self.posts:</span><br><span class="line">            ret[post[<span class="string">"postid"</span>]]=post[<span class="string">"title"</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getPost</span><span class="params">(self, id)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> post <span class="keyword">in</span> self.posts:</span><br><span class="line">            <span class="keyword">if</span> post[<span class="string">"postid"</span>]==id:</span><br><span class="line">                <span class="keyword">return</span> post</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">newPost</span><span class="params">(self, post)</span>:</span></span><br><span class="line">        self.server.metaWeblog.newPost(<span class="string">''</span>, self.username, self.password, post, <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">editPost</span><span class="params">(self,postid, post)</span>:</span></span><br><span class="line">        self.server.metaWeblog.editPost(postid, self.username, self.password, post, <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delPost</span><span class="params">(self, postid)</span>:</span></span><br><span class="line">        self.server.metaWeblog.deletePost(<span class="string">''</span>,postid, self.username, self.password, <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">syncBlog</span><span class="params">(b1, b2)</span>:</span></span><br><span class="line">    b1Titles=b1.getAllPostTitle()</span><br><span class="line">    b2Titles=b2.getAllPostTitle()</span><br><span class="line">    <span class="keyword">for</span> key1,value1 <span class="keyword">in</span> b1Titles.iteritems():</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Blog1 title: "</span>+value1</span><br><span class="line">        <span class="keyword">for</span> key2,value2 <span class="keyword">in</span> b2Titles.iteritems():</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"tBlog2 title: "</span>+value2</span><br><span class="line">            <span class="keyword">if</span> value1==value2:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">"Syncing, blog 2 postid="</span>+key2</span><br><span class="line">                b2.editPost(keys2, b1.getPost(key1))</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Blog2 has no article equal to title :"</span>+value1</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Add new "</span></span><br><span class="line">        b2.newPost(b1.getPost(key1))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">print</span> <span class="string">"Done sync"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wpBlog=Metablog(<span class="string">"主站地址"</span>, <span class="string">"用户名"</span>, <span class="string">"密码"</span>)</span><br><span class="line">cnBlog=Metablog(<span class="string">"从站地址"</span>, <span class="string">"用户名"</span>, <span class="string">"密码"</span>)</span><br><span class="line">syncBlog(wpBlog, cnBlog)</span><br></pre></td></tr></table></figure></div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2009-08-29-installing-a-win7-mess-of-trouble-on-a-large-parra/" class="post-title-link">装个WIN7惹了一大帕拉麻烦事情</a></h2><div class="post-info">Aug 29, 2009</div><div class="post-content"><p>最近C盘空间已经只有最后10%了，我的习惯是50G的C盘空间只要用得还有5G了，就可以重装了。好吧，也是时候了，前几天下载了WIN7还正愁没有时间装呢。</p>
<p>刻盘，浪费一张DVD；刷BIOS，刷成DELL OEM的，破解正版；重启；进入安装界面。</p>
<p>噩梦来了。</p>
<p>在磁盘分区的时候，由于WIN7需要一个额外的分区，而现在的盘没有更多的空间了，所以简单的可以把C盘删除了再新建就好。我以前用XP的时候就知道微软的分区那是一个造孽，一旦以你的分区稍微有点不标准就会把磁盘搞得一塌糊涂。比如我以前装linux的时候，将一个分区搞成了主分区，成了这样：主分区，扩展分区，主分区，扩展分区。然后在XP里面删除一个盘，这下，所有的扩展分区都没了。分区表全部坏了。微软的分区工具就是这么破，要多个心眼。</p>
<p>好了，删除了分区，这下鼠标就一直是圈圈转啊转，转啊转，硬盘灯常亮。没反应了。</p>
<p>重启，使用了Acronis Disk Suite也无法进入到分区，停到了Analyse Partition C这一个阶段。以前的工具对SATA支持不好，就像“经典”的Partition Magic，都不太好使。反正这样那样的工具都不行，好吧，那就用Partition Magic试试。嘿，还好，找到硬盘了，给我说有一个分区错误，提示说要重启看结果。我心想这下好了，修正吧。重启，傻眼了。</p>
<p>Win7系统安装进不了；光盘启动的XPE系统进入不了，硬盘灯常亮；Linux系统无法mount磁盘分区；几种DOS系统均无法看到Starting DOS，直接死到。好吧，这下没系统可以用了，PQ也进不了，几乎所有的工具都被无敌了。拆下来放到老爸的机器上看看行不行。</p>
<p>在XP里面直接挂上硬盘(SATA可以热拨插的)，提示驱动程序无法正确加载。我郁闷了。好吧，重启，照样不能启动。试了很多次，也是如此。放弃了。</p>
<p>我都想哭了，装了WIN7就这么恼火？把以前的老工具都找出来用用，最后找到了个Ultimate Boot CD中的DOS工具集竟然能启动，启动后看到个paraman.exe竟然能够识别出分区信息。</p>
<p>根据以往的经验，应该是MBR坏了，造成磁盘无法读取。将MBR全部写零并将C盘的头几百个KB写零。这样造成的结果就是所有的分区都丢失了，不要着急，并不是意味着数据也丢失了。</p>
<p>插入Win7光盘，终于见到了分区界面。显示是一个新硬盘。正常的，因为MBR已经全部损坏了。我的C盘是50G，所以暂时分45G，以免破坏以后分区的数据，装完了再还无损调整分区就可以了。安装完Win7后，第一件事情就是下载亲爱的Acronis Disk Suite。忘了你的什么PQ和GHOST吧，这两个软件已经廉颇老矣，用Acronis出品的Disk Suite和True Image才是王道。</p>
<p>下载的时候可别网上一搜就下载，多半是DEMO版本的，告诉你，到这里来下载：<a href="http://58.251.57.206/down?cid=7DA00927EDE61CBDADC9C3DDFFCC304D61E88642&amp;t=2&amp;fmt=&amp;usrinput=acronis%20disk%20director%20suite&amp;dt=2006000&amp;ps=0_0&amp;rt=0kbs&amp;plt=0" target="_blank" rel="noopener">http://58.251.57.206/down?cid=7DA00927EDE61CBDADC9C3DDFFCC304D61E88642&amp;t=2&amp;fmt=&amp;usrinput=acronis%20disk%20director%20suite&amp;dt=2006000&amp;ps=0_0&amp;rt=0kbs&amp;plt=0</a></p>
<p>可以直接在“迅雷搜索”里面输入“acronis disk director suite”，下载“支持vista的分区工具Acronis Disk Director Suite 独家提供无错汉化版下载Acronis.Disk.Director.Suite.v10.0.2160.by.ANimal!”就可以了。</p>
<p>按照默认的安装。完毕后重启。</p>
<p>使用Acronis Recovery Expert对剩余的空间进行恢复。一般选择Manual和Fast就可以了，因为所有的其他分区都还在，并且NTFS的MFT还是存在的，所以很容易就搜索到了。FAT32格式的我没有试过，估计也可以，只是NTFS在Windows系统中，算是最安全的文件系统了。</p>
<p>不久就会问你找到的分区是不是，看看卷标、大小和剩余空间就可以了。整个过程用不了几分钟就完成。这样数据就完璧归赵了。</p>
<p><strong>总结一下：</strong></p>
<p>. 硬盘硬件能够识别但软件不能识别或硬盘灯常亮，经常是MBR出了问题，解决方法是试图修复或者清除MBR。随后用Acronis Recovery Expert来恢复就可以。不推荐Easy Recovery，只能恢复文件而且多半用不了，并且要占用另外的空间。</p>
<p>. 放弃使用PQ和GHOST之类的老软件。用Acronis一套吧，听说paragon partition manager也很不错，不知道我运行的paraman.exe是不是这个dos工具。</p>
<p>. 多准备点工具，以备不时之需。(刚才那个工具似乎是：<a href="http://www.ultimatebootcd.com/download.html" target="_blank" rel="noopener">http://www.ultimatebootcd.com/download.html</a> 里面的)</p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2009-08-26-open-web-analytics-documented-to-resolve-the-problem-failed/" class="post-title-link">解决Open Web Analytics载入文件失败的问题</a></h2><div class="post-info">Aug 26, 2009</div><div class="post-content"><p>如果你的wordpress安装在子目录，而使用根目录进行访问，会生成一个.htaccess，但这个规则可能会造成子目录访问失败。我这篇文章[cross id=1987]中也提供了一个解决方案，但我发现我的主页中访问子目录还是存在问题。</p>
<p>所以最终我选择了修改Open Web Analytics插件的方式。主要是调整访问wp-content的路径。</p>
<p>查找到wp-plugin.php包含一句：</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">define(<span class="string">'OWA_PUBLIC_URL'</span>, get_bloginfo(<span class="string">'url'</span>).<span class="string">'/wp-content/plugins/owa/public/'</span>);</span><br></pre></td></tr></table></figure>

<p>修改为</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">define(<span class="string">'OWA_PUBLIC_URL'</span>, get_bloginfo(<span class="string">'wpurl'</span>).<span class="string">'/wp-content/plugins/owa/public/'</span>);</span><br></pre></td></tr></table></figure>

<p>即可。此时将使用wordpress绝对路径进行访问。</p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2009-08-26-url-rewrite-to-solve-installation-visit-to-install-wordpress-in-a-subdirectory-of-the-root-problem-occurs-404/" class="post-title-link">URL Rewrite解决安装访问安装在根目录的Wordpress的子目录出现404的问题</a></h2><div class="post-info">Aug 26, 2009</div><div class="post-content"><p>我真不知道这个题目应该怎么写了，呵呵。</p>
<p>问题是这样的，今天装了Open Web Analytics(OWA)后，出现OWA无法用的问题。用Firebug查看网络请求发现OWA请求位于/wp-content/plugins/owa目录中，而直接访问这个目录会出现404错位，因为我的wordpress是装在/b/目录下的，由.htaccess来实现wordpress在根目录中访问。wordpress默认的url-rewrite是这样：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># BEGIN WordPress</span></span><br><span class="line"></span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteEngine</span></span> <span class="literal">On</span></span><br><span class="line"><span class="attribute">RewriteBase</span> /</span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteCond</span></span> <span class="variable">%&#123;REQUEST_FILENAME&#125;</span> !-f</span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteCond</span></span> <span class="variable">%&#123;REQUEST_FILENAME&#125;</span> !-d</span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteRule</span></span> . /index.php<span class="meta"> [L]</span></span><br></pre></td></tr></table></figure>

<p>根据Apache的文章可知，RewriteRule的意思是把所有的请求都给index.php处理。</p>
<p>那么要解决我的问题，我应该添加一条规则</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute"><span class="nomarkup">RewriteRule</span></span> ^wp-content/(.*)$ /b/wp-content/<span class="number">$1</span><span class="meta"> [R]</span></span><br></pre></td></tr></table></figure>

<p>这样完整的规则是：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># BEGIN WordPress</span></span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteEngine</span></span> <span class="literal">On</span></span><br><span class="line"><span class="attribute">RewriteBase</span> /</span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteCond</span></span> <span class="variable">%&#123;REQUEST_FILENAME&#125;</span> !-f</span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteCond</span></span> <span class="variable">%&#123;REQUEST_FILENAME&#125;</span> !-d</span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteRule</span></span> ^wp-content/(.*)$ /b/wp-content/<span class="number">$1</span><span class="meta"> [R]</span></span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteRule</span></span> . /index.php<span class="meta"> [L]</span></span><br><span class="line"><span class="comment"># END WordPress</span></span><br></pre></td></tr></table></figure>

<p>可是这样依然无法访问。原因是Apache会遍历每一个规则。查看了<a href="http://www.52web.com/52article/?view-80.html" target="_blank" rel="noopener">《Apache中 RewriteRule 规则参数介绍》</a>一文，重点是这个： ‘last|L’(结尾规则) 立即停止重写操作，并不再应用其他重写规则。它对应于Perl中的last命令或C语言中的break命令。 这个标记用于阻止当前已被重写的URL被后继规则再次重写。 例如，使用它可以重写根路径的URL(‘/‘)为实际存在的URL(比如：’/e/www/‘)。 所以，最终的.htaccess应该这样写：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># BEGIN WordPress</span></span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteEngine</span></span> <span class="literal">On</span></span><br><span class="line"><span class="attribute">RewriteBase</span> /</span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteCond</span></span> <span class="variable">%&#123;REQUEST_FILENAME&#125;</span> !-f</span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteCond</span></span> <span class="variable">%&#123;REQUEST_FILENAME&#125;</span> !-d</span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteRule</span></span> ^wp-content/(.*)$ /b/wp-content/<span class="number">$1</span><span class="meta"> [R,L]</span></span><br><span class="line"><span class="attribute"><span class="nomarkup">RewriteRule</span></span> . /index.php<span class="meta"> [L]</span></span><br><span class="line"><span class="comment"># END WordPress</span></span><br></pre></td></tr></table></figure>

<p>以后再出现这种在wordpress安装目录下子目录无法访问的情况就类似的这样解决。</p>
</div></article></div></div></div><div id="sidebar" class="left"><div id="about-panel"><div class="info"><div class="title">贺思聪</div><div class="bio">《爬虫实战：从数据到产品》作者，国内首个机票价格历史及预测小程序“爱飞狗旅行”作者，极客、架构师、大数据玩家。</div></div><img src="/images/avatar.png" class="avatar"></div><div id="friend-links-panel"><div class="panel-title"><p>链接</p></div><a href="http://github.com/derekhe" target="_blank" class="link-item"><div class="link-container"><div class="site-name">GitHub</div><div class="site-desc">http://github.com/derekhe</div></div></a><a href="http://www.jianshu.com/u/b1e713e56ea6" target="_blank" class="link-item"><div class="link-container"><div class="site-name">简书</div><div class="site-desc">http://www.jianshu.com/u/b1e713e56ea6</div></div></a><a href="https://www.linkedin.com/in/sicong-he-56a95437/" target="_blank" class="link-item"><div class="link-container"><div class="site-name">LinkedIn</div><div class="site-desc">https://www.linkedin.com/in/sicong-he-56a95437/</div></div></a></div></div></div><div class="clear"></div></main><footer class="footer-container"><div class="paginator"><a href="/page/37/" class="prev">上一页</a><a href="/page/39/" class="next">下一页</a></div><div class="copyright"><p>© 2008 - 2020 <a href="http://www.april1985.com">贺思聪</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank">hexo-theme-prontera</a>.</p></div></footer><script>var _mtac = {}; (function() {     var mta = document.createElement("script"); mta.src = "http://pingjs.qq.com/h5/stats.js?v2.0.2";    mta.setAttribute("name", "MTAH5");    mta.setAttribute("sid", "500490740");    var s = document.getElementsByTagName("script")[0];    s.parentNode.insertBefore(mta, s);})();</script></body></html>