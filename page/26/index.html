<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="aZ679hf2Rw"><title> 我是思聪</title><meta name="description" content="A Blog Powered By Hexo"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/prontera.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.april1985.com/atom.xml" title="我是思聪"><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-129409069-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129409069-1');
</script>


<script>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
  </script></head><body><header class="feature-header"><nav class="component-nav"><ul><div class="logo-container"><a href="/"><h2 class="title">我是思聪</h2></a></div><a href="/" target="_self" class="li component-nav-item"><p>现在</p></a><a href="/archives" target="_self" class="li component-nav-item"><p>曾经</p></a><ul class="shortcut-icons"><a href="https://github.com/derekhe" target="_blank"><img src="/images/github.svg" class="icon"></a><a href="/atom.xml" target="_blank"><img src="/images/rss.svg" class="icon"></a></ul></ul></nav></header><main class="container"><div id="body-container"><div id="post-list" class="left"><div class="home post-list"><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2010-05-17-glype-proxy/" class="post-title-link">【推荐】无限代理的可能glype</a></h2><div class="post-info">May 17, 2010</div><div class="post-content"><p>想翻墙？想看youtube？想看ooxx视频？目前在线的很多代理服务器提供的代理不是速度慢就是某些内容无法访问，glype最新mod版本完全满足需求。</p>
<p>访问地址：<a href="http://proxy.niucha.info" target="_blank" rel="noopener">http://proxy.niucha.info</a></p>
<p>牛叉网，绝对牛叉~</p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2010-05-17-research-sogou-map-gps/" class="post-title-link">搜狗地图研究-坐标系对应</a></h2><div class="post-info">May 17, 2010</div><div class="post-content"><p>搜狗地图是搜狐搜狗了以前有名的go2map后重新制作的地图，目前google地图已经很长时间没有任何更新，已经没有太大利用价值。而国内的搜狗地图和百度地图在地图上的开发已经很完善，地图数据、POI数据等都是比较新的，具有较大的利用价值。例如你可以把这些地图下载下来，然后当做电子地图来使用。但搜狗和百度地图的劣势在于没有手机客户端，而且各自采用了其自定义的坐标系统，即便离线使用，也无法使用GPS进行导航。使用搜狗地图即便是小范围匹配后，大范围的应用也会发现有较为严重的偏移。所以研究GPS坐标系和地图上的点的对应关系就成了做离线地图浏览的最关键的部分。</p>
<p>打开搜狗地图后，地址栏显示#c后面的就是其坐标和当前的层：</p>
<p>例如北京的URL是：<a href="http://map.sogou.com/i.html#c=12956000,4824875,10" target="_blank" rel="noopener">http://map.sogou.com/i.html#c=12956000,4824875,10</a></p>
<p>12956000代表了自定义的经度坐标，4824875代表了自定义的纬度坐标，10是第10级。坐标是对应于屏幕正中央的位置的坐标。</p>
<p>如果直接修改url然后敲回车，地图是没有任何反应的，重新刷新后更新的位置就会显示出来。拖动地图，URL会进行刷新。</p>
<p><a href="/images/sogoumap/capture.png"></a><img src="/images/sogoumap/image/thumb/capture.png" alt></p>
<p>那么如何得到GPS的位置和坐标系的对应关系呢？</p>
<p>这时候就要用上Google Earth和搜狗的卫星地图功能了。</p>
<p>切换到搜狗的卫星地图发现，搜狗的地图和卫星地图的融合相当好，也就是说没有使用常见的偏移的手段对电子地图进行处理。这样事情就好办了。只需要在Google Earth和搜狗找到相同的位置，就可以知道GPS位置和对应的搜狗的坐标了。</p>
<p>我们以人民英雄纪念碑为例(为什么选纪念碑呢，这个自己想象，哈哈)，说明这个对应法：</p>
<p>首先我们找到英雄纪念碑，将其置于搜狗的正中央：</p>
<p><a href="/images/sogoumap/capture2.jpg"></a><img src="/images/sogoumap/image/thumb/capture2.jpg" alt></p>
<p>这时地址栏显示：</p>
<p><a href="http://map.sogou.com/i.html#c=12956777.34375,4824206.0546875,18&amp;lq=%u5929%u5B89%u95E8&amp;where=北京&amp;page=1&amp;hb=1,1" target="_blank" rel="noopener">http://map.sogou.com/i.html#c=12956777.34375,4824206.0546875,18&amp;lq=%u5929%u5B89%u95E8&amp;where=北京&amp;page=1&amp;hb=1,1</a></p>
<p>关键看这个：12956777.34375,4824206.0546875</p>
<p>好了，打开Google Earth。在开始之前，我们先把Google Earth的坐标系设置一下：工具-&gt;选项-&gt;显示经度/纬度-&gt;小数度数，这样在Google Earth下显示的就是对应的小数坐标了。</p>
<p><a href="/images/sogoumap/capture3.jpg"></a><img src="/images/sogoumap/image/thumb/capture3.jpg" alt></p>
<p>可见坐标是39.905588，116.391304，这是实际的GPS位置。</p>
<p>好了，这就有了一组数据了：</p>
<p>纬度：39.905588-&gt;4824206.0546875</p>
<p>精度：116.391304-&gt;12956777.34375</p>
<p>你多找几组这样的数据，就会发现，这些数据中有一些规律了。而且在小范围内基本上是线性关系，两点之间的线性插值也可以得到目标位置的GPS位置对应的值。但别着急，这肯定不是线性关系，要不然我也不会写这个了。呵呵。</p>
<p>如果这样做下去，岂不是要把人累死，而且速度还不是那么的快。如何短时期内得到大量的数据呢？</p>
<p>最初我的想法是用图上的标记点来做，但搜狗地图的js是加密过的，很难调试。山穷水尽之后，无意中发现了搜狗地图的路书功能，它能够将GPS的轨迹给你在地图上表示出来。这不是正是我想要的么？</p>
<p>好吧，我就上传一个最简单的gpx上去，该gpx只包括了两个点(30，73)和(35，73)：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">gpx</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.topografix.com/GPX/1/1"</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">xsi:schemalocation</span>=<span class="string">"http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"</span> <span class="attr">creator</span>=<span class="string">"KML2GPX"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">metadata</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>test<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">desc</span>&gt;</span>test<span class="tag">&lt;/<span class="name">desc</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"http://www.garmin.com"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>Garmin International<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">metadata</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">trk</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>Holux2010/03/12_19:23<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">trkseg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">trkpt</span> <span class="attr">lat</span>=<span class="string">"30"</span> <span class="attr">lon</span>=<span class="string">"73"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ele</span>&gt;</span>0<span class="tag">&lt;/<span class="name">ele</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">trkpt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">trkpt</span> <span class="attr">lat</span>=<span class="string">"35"</span> <span class="attr">lon</span>=<span class="string">"73"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ele</span>&gt;</span>0<span class="tag">&lt;/<span class="name">ele</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">trkpt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">trkseg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">trk</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">extensions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">extensions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">gpx</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>至于gpx文件的结构，各位还是自己网上找一找。<br>好了，让我们来制作路书。上传的同时请注意你的firebug的网络传输，注意upload这个。<br><a href="/images/sogoumap/capture4.jpg"></a><img src="/images/sogoumap/image/thumb/capture4.jpg" alt><br>在gpx传输完成以后，upload会返回一系列的html，其中就包含了转换后的坐标系：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>hidden frame<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">	<span class="function"><span class="keyword">function</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">		parent.loadupover(<span class="string">"上传完毕！"</span>, <span class="string">"9a8080a728a457650128a4ada145057c"</span>,<span class="string">"gpx轨迹"</span>, [&#123;<span class="string">"id"</span>:<span class="string">"9a8080a728a457650128a4ada146057d"</span>,<span class="string">"title"</span>:<span class="string">"轨迹段1"</span>,<span class="string">"start"</span>:&#123;<span class="string">"id"</span>:<span class="string">"9a8080a728a457650128a4ada146057e"</span>,<span class="string">"title"</span>:<span class="string">"途经点1"</span>,<span class="string">"description"</span>:<span class="literal">null</span>,<span class="string">"position"</span>:&#123;<span class="string">"type"</span>:<span class="string">"POINT"</span>,<span class="string">"x"</span>:<span class="number">8126411.250799975</span>,<span class="string">"y"</span>:<span class="number">1678043.1192767194</span>&#125;,<span class="string">"images"</span>:<span class="literal">null</span>&#125;,<span class="string">"end"</span>:&#123;<span class="string">"id"</span>:<span class="string">"9a8080a728a457650128a4ada147057f"</span>,<span class="string">"title"</span>:<span class="string">"途经点2"</span>,<span class="string">"description"</span>:<span class="literal">null</span>,<span class="string">"position"</span>:&#123;<span class="string">"type"</span>:<span class="string">"POINT"</span>,<span class="string">"x"</span>:<span class="number">8126411.25084977</span>,<span class="string">"y"</span>:<span class="number">7135255.941276442</span>&#125;,<span class="string">"images"</span>:<span class="literal">null</span>&#125;,<span class="string">"timeSequence"</span>:<span class="string">"&#123;&#125;"</span>,<span class="string">"length"</span>:<span class="number">4336600.054319387</span>,<span class="string">"description"</span>:<span class="literal">null</span>,<span class="string">"segIdx"</span>:<span class="number">1</span>,<span class="string">"path"</span>:&#123;<span class="string">"type"</span>:<span class="string">"LINESTRING"</span>,<span class="string">"minx"</span>:<span class="number">8126411.250799975</span>,<span class="string">"miny"</span>:<span class="number">1678043.1192767194</span>,<span class="string">"maxx"</span>:<span class="number">8126411.25084977</span>,<span class="string">"maxy"</span>:<span class="number">7135255.941276442</span>,<span class="string">"levels"</span>:<span class="string">"@@"</span>,<span class="string">"points"</span>:<span class="string">"u&#123;~nNulleB?wralI"</span>&#125;,<span class="string">"navi"</span>:<span class="literal">null</span>,<span class="string">"subSegments"</span>:<span class="literal">null</span>&#125;,&#123;<span class="string">"id"</span>:<span class="string">"9a8080a728a457650128a4ada1470580"</span>,<span class="string">"title"</span>:<span class="string">"轨迹段2"</span>,<span class="string">"start"</span>:&#123;<span class="string">"id"</span>:<span class="string">"9a8080a728a457650128a4ada1480581"</span>,<span class="string">"title"</span>:<span class="string">"途经点3"</span>,<span class="string">"description"</span>:<span class="literal">null</span>,<span class="string">"position"</span>:&#123;<span class="string">"type"</span>:<span class="string">"POINT"</span>,<span class="string">"x"</span>:<span class="number">8126411.250799975</span>,<span class="string">"y"</span>:<span class="number">1678043.1192767194</span>&#125;,<span class="string">"images"</span>:<span class="literal">null</span>&#125;,<span class="string">"end"</span>:&#123;<span class="string">"id"</span>:<span class="string">"9a8080a728a457650128a4ada1480582"</span>,<span class="string">"title"</span>:<span class="string">"途经点4"</span>,<span class="string">"description"</span>:<span class="literal">null</span>,<span class="string">"position"</span>:&#123;<span class="string">"type"</span>:<span class="string">"POINT"</span>,<span class="string">"x"</span>:<span class="number">8126411.25084977</span>,<span class="string">"y"</span>:<span class="number">7135255.941276442</span>&#125;,<span class="string">"images"</span>:<span class="literal">null</span>&#125;,<span class="string">"timeSequence"</span>:<span class="string">"&#123;&#125;"</span>,<span class="string">"length"</span>:<span class="number">4336600.054319387</span>,<span class="string">"description"</span>:<span class="literal">null</span>,<span class="string">"segIdx"</span>:<span class="number">2</span>,<span class="string">"path"</span>:&#123;<span class="string">"type"</span>:<span class="string">"LINESTRING"</span>,<span class="string">"minx"</span>:<span class="number">8126411.250799975</span>,<span class="string">"miny"</span>:<span class="number">1678043.1192767194</span>,<span class="string">"maxx"</span>:<span class="number">8126411.25084977</span>,<span class="string">"maxy"</span>:<span class="number">7135255.941276442</span>,<span class="string">"levels"</span>:<span class="string">"@@"</span>,<span class="string">"points"</span>:<span class="string">"u&#123;~nNulleB?wralI"</span>&#125;,<span class="string">"navi"</span>:<span class="literal">null</span>,<span class="string">"subSegments"</span>:<span class="literal">null</span>&#125;], [])</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"init()"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意POINT后面的x,y，那你就是搜狗的坐标，和你上传的坐标是一一对应的关系。<br>好了吧，事情说清楚了吧。发现这个还是费了很大的力气的啦。<br>当然，如果你的gpx文件太大了(你很贪心，每次都要上传很多个点)，那么firebug这个显示将不完全。<br>给你点点提示：根据路书展示时候的flash的地址访问，可以得到一个json文件。json文件里面包含了所有的坐标对应。至于具体地址怎么回事，我就不公布了。<br>好了，编写个程序，将gpx文件一个一个上传上去，然后再得到坐标。我将GPS的坐标以0.01的步进进行转换，得到了细致且大量的转换数据。<br>此后，就是用数学工具进行拟合计算了(这几年大学没白读)~
最后得到了从GPS转换到搜狗地图的公式：<br><a href="/images/sogoumap/capture5.jpg"></a><img src="/images/sogoumap/image/thumb/capture5.jpg" alt><br>当然，如果你想得到这个公式，可不能不劳而获哦，联系我。或者你自己做吧，反正思路是给你说好了的。呵呵。<br>如果你想试试这个公式好不好用，请访问：<a href="http://april1985.com/sogoumap/" target="_blank" rel="noopener">http://april1985.com/sogoumap/</a></p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2010-05-14-ultraedit-all-language-highlights/" class="post-title-link">UltraEdit 最全语法高亮</a></h2><div class="post-info">May 14, 2010</div><div class="post-content"><p>下载地址：<a href="ftp://ultraedit.com/wf/wf.zip" target="_blank" rel="noopener">ALL WORDFILES IN ONE PACKAGE</a></p>
<p>安装：将解压后的文件放置到文档目录。此目录可以通过：高级-&gt;配置-&gt;编辑器显示-&gt;语法着色-&gt;文档的完整目录名称中得到。</p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2010-05-11-paragon-softwareu002639s-products-with-caution/" class="post-title-link">慎用Paragon Software的产品</a></h2><div class="post-info">May 11, 2010</div><div class="post-content"><p>以前一直对Paragon Software的产品比较有信心的，上次弄笔记本的时候给磁盘分区，重启进入启动界面进行分区的时候中途死掉过一次。今天整理磁盘的时候，Total Defrag的速度确实让人无法忍受，在Safe Mode下还能终止，并能成功的进入系统，第二次整理使用Fast Mode结果速度依然很慢，取消后成功的把系统整挂掉了……</p>
<p>所以在用Paragon Software的产品的时候，小心点，如果在一直在启动界面里面进行活动，就不要试图中断他，要不然资料可能就报废了。</p>
<p>在目前看来，在用过的那么多分区软件或者整理软件中，Acronis的产品还是很好的，以后分区还是用Acronis的好了，省的出了问题找不到北。</p>
<p>废话不说，重装系统~</p>
</div></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/post/2010-05-08-diy-coaxial-output/" class="post-title-link">同轴输出DIY</a></h2><div class="post-info">May 8, 2010</div><div class="post-content"><p>以前，我的nForce2的老主板有同轴、光纤输出，只是还未等到用上它的时候就已经挂了。这挂也挂的挺神奇的，听着音乐，突然就死机了，然后音响里面传来几声噪音，随后闻到一股糊味。再开机，已经无法开机了。打开电脑机箱一看，声卡自己糊了。能不能拆了声卡用呢？把声卡的芯片取了，无法开机，主板报废。</p>
<p>现今有了天逸的AD9600功放，DVD机到功放都是同轴输出的，电脑能不能行呢？</p>
<p>一查主板的说明书，发现主板上有SPDOUT接口。可以接光纤或者同轴。我的微星主板上有三个脚，分别是GND,VCC,DATA。只需要连接GND,DATA就可以有输出了。</p>
<p>搞懂了原理，在电子市场买了一个同轴的插座，找了以前老光驱上的线，接到SPDOUT输出上，一切搞定。搞定之后，拆了一个旧声卡的挡板，把上面的洞扩大，将插座固定到机箱上。</p>
<p>有了同轴输出，当然还得要有音源，立刻演了一下最新下载的720P的阿凡达，讲的是暴力拆迁的故事。音质相当令人感动，环绕音响能够听到2声道听不到的细腻声音。</p>
<p>然后又放了蓝光的《叶问》，再次被其震撼的音效和精彩的打斗场景折服！</p>
<p>最后试了试BFBC2(战地：叛逆团队2)，遗憾的是，虽然开始的时候有Dobly Digital的标示，但是游戏里面无论怎么都无法得到数字输出的效果。我想估计只有少数的声卡支持，我等的ALC888声卡就算了。呵呵。</p>
<p>目前看来，DIY算是成功了，成本2.5元，音质不错，家庭影院系统更上一个台阶~</p>
</div></article></div></div></div><div id="sidebar" class="left"><div id="about-panel"><div class="info"><div class="title">贺思聪</div><div class="bio">《爬虫实战：从数据到产品》作者，国内首个机票价格历史及预测小程序“爱飞狗旅行”作者，极客、架构师、大数据玩家。</div></div><img src="/images/avatar.png" class="avatar"></div><div id="friend-links-panel"><div class="panel-title"><p>LINKS</p></div><a href="http://github.com/derekhe" target="_blank" class="link-item"><div class="link-container"><div class="site-name">GitHub</div><div class="site-desc">http://github.com/derekhe</div></div></a><a href="http://www.jianshu.com/u/b1e713e56ea6" target="_blank" class="link-item"><div class="link-container"><div class="site-name">简书</div><div class="site-desc">http://www.jianshu.com/u/b1e713e56ea6</div></div></a><a href="https://www.linkedin.com/in/sicong-he-56a95437/" target="_blank" class="link-item"><div class="link-container"><div class="site-name">LinkedIn</div><div class="site-desc">https://www.linkedin.com/in/sicong-he-56a95437/</div></div></a></div></div></div><div class="clear"></div></main><footer class="footer-container"><div class="paginator"><a href="/page/25/" class="prev">PREV</a><a href="/page/27/" class="next">NEXT</a></div><div class="copyright"><p>© 2008 - 2019 <a href="http://www.april1985.com">贺思聪</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank">hexo-theme-prontera</a>.</p></div></footer><script>var _mtac = {}; (function() {     var mta = document.createElement("script"); mta.src = "http://pingjs.qq.com/h5/stats.js?v2.0.2";    mta.setAttribute("name", "MTAH5");    mta.setAttribute("sid", "500490740");    var s = document.getElementsByTagName("script")[0];    s.parentNode.insertBefore(mta, s);})();</script></body></html>